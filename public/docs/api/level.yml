/skills/{skill_id}/levels:
  parameters:
  - name: skill_id
    in: path
    schema:
      type: integer
    description: Skill ID
    required: true
  post:
    summary: Create new level
    tags:
    - Levels
    consumes:
    - application/json
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                description: Skill name
              rank:
                type: string
                description: Rank nummber
              logo:
                type: string
                description: Url logo
            required:
            - name
            - rank
          example:
            name: Senior
            rank: 100
            logo: '#'

    responses:
      201:
        description: Created Successful
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/Level'
      400:
        description: Invalid params
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/Error'
            examples:
              name_missing:
                value:
                  error:
                    code: 400
                    message: name missing params
              name_empty:
                value:
                  error:
                    code: 400
                    message: name empty params
      403:
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/UnauthorizedError'
            examples:
              no_authorization:
                value:
                  error:
                    code: 403
                    message: unauthorized
              employee:
                value:
                  error:
                    code: 403
                    message: unauthorized
      404:
        description: Skill not found
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/Error'
            examples:
              skill_not_found:
                value:
                  error:
                    code: 404
                    message: "Couldn't find Skill with 'id'=0"
      401:
        description: Unauthenticated
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/UnauthenticatedError'
      422:
        description: Name has already been taken
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/Error'
            example:
              error:
                code: 422
                message: "Validation failed: Name has already been taken"
/skills/{skill_id}/levels/{id}:
  parameters:
  - name: skill_id
    in: path
    type: integer
    description: Skill ID
    required: true
  - name: id
    in: path
    type: integer
    description: Level ID
    required: true
  patch:
    summary: Update a level
    tags:
    - Levels
    consumes:
    - application/json
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                description: Skill name
              rank:
                type: string
                description: Rank nummber
              logo:
                type: string
                description: Url logo
            required:
            - name
            - rank
          example:
            name: Senior
            rank: 100
            logo: '#'
    responses:
      200:
        description: Level Updated Successful
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/Level'
      400:
        description: Invalid params
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/Error'
            examples:
              name_missing:
                value:
                  error:
                    code: 400
                    message: name missing params
              name_empty:
                value:
                  error:
                    code: 400
                    message: name empty params
      403:
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/UnauthorizedError'
            examples:
              no_authorization:
                value:
                  error:
                    code: 403
                    message: unauthorized
              employee:
                value:
                  error:
                    code: 403
                    message: unauthorized
      401:
        description: Unauthenticated
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/UnauthenticatedError'
      422:
        description: Name has already been taken
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/Error'
            example:
              error:
                code: 422
                message: "Validation failed: Name has already been taken"
  delete:
    summary: Delete level
    tags:
    - Levels
    consumes:
    - application/json
    responses:
      200:
        description: deleted a level
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/SuccessMessage'
      403:
        description: employee cannot delete level
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/UnauthorizedError'
            examples:
              no_authorization:
                value:
                  error:
                    code: 403
                    message: unauthorized
              employee:
                value:
                  error:
                    code: 403
                    message: unauthorized
      401:
        description: Unauthenticated
        content:
          application/json:
            schema:
              $ref: '../schema.yml#/UnauthenticatedError'
